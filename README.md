## Проект: Серверная часть веб-приложения для управления списком задач

### Описание
Данный проект представляет собой серверную часть веб-приложения, созданную на FastAPI с использованием PostgreSQL и Redis. Он обеспечивает функциональность для управления задачами и аутентификации пользователей с поддержкой Bearer-токенов. Для удобства развертывания приложение контейнеризировано с помощью Docker Compose, что позволяет легко настроить и запустить его в контейнерах.

### Стек технологий
- **Backend**: FastAPI
- **ORM**: SQLAlchemy 2.0 (асинхронное подключение)
- **База данных**: PostgreSQL (asyncpg)
- **Кеширование**: Redis (для хранения refresh токенов)
- **Docker Compose**: для контейнеризации и упрощенного развертывания

### Основные компоненты
- **Модель пользователя**: хранит информацию о пользователях (username, password).
- **Модель задач**: поддерживает создание, просмотр, обновление и удаление задач.

### Функционал
- **CRUD-функции для задач**:
  - Создание задачи (`POST /tasks`): добавляет новую задачу с полями название, описание и статус.
  - Получение списка задач (`GET /tasks`): возвращает все задачи, с возможностью фильтрации по статусу.
  - Обновление задачи (`PUT /tasks/{id}`): редактирование названия, описания и статуса задачи.
  - Удаление задачи (`DELETE /tasks/{id}`): удаляет задачу по ID.

- **Аутентификация пользователей**:
  - **Регистрация** (`POST /auth/register`): создает нового пользователя с заданными username и password.
  - **Вход** (`POST /auth/login`): возвращает access и refresh токены.
  - **Обновление access токена** (`POST /auth/refresh`): выдает новые access и refresh токены по refresh токену и fingerprint.
  - **Выход** (`POST /auth/refresh`): удаляет access и refresh токены по refresh токену и fingerprint.
  
- **Кеширование с Redis**: хранение refresh токенов для управления их сроком жизни и обеспечения безопасности.
  
### Структура проекта
```
    TaskListApp
    ├── migrations/                    # Миграции Alembic для управления схемами БД
    ├── app
    │   ├── auth                       # Модуль аутентификации и авторизации
    │   │   ├── router.py              # Роуты для обработки запросов
    │   │   ├── auth.py                # Логика аутентификации (токены, сессии)
    │   │   ├── schemas.py             # Схемы Pydantic для аутентификации
    │   │   ├── models.py              # SQLAlchemy модели для пользователей
    │   │   ├── dependencies.py        # Зависимости, например, проверка токена
    │   │   ├── constants.py           # Константы, используемые в модуле
    │   │   ├── exceptions.py          # Исключения, специфичные для модуля
    │   │   ├── service.py             # Бизнес-логика и операции с пользователями
    │   │   └── utils.py               # Утилиты, например, генерация хэшей
    │   ├── tasks                      # Модуль управления задачами
    │   │   ├── router.py              # Роуты для задач
    │   │   ├── schemas.py             # Схемы Pydantic для задач
    │   │   ├── models.py              # SQLAlchemy модели для задач
    │   │   ├── constants.py           # Константы, связанные с задачами
    │   │   ├── exceptions.py          # Исключения, специфичные для задач
    │   │   └── service.py             # Бизнес-логика для работы с задачами
    │   ├── config.py                  # Глобальные настройки приложения
    │   ├── exceptions.py              # Общие исключения приложения
    │   ├── database.py                # Подключение к базе данных
    │   └── main.py                    # Точка входа приложения (инициализация и запуск FastAPI)
    ├── docker                         # Папка для Docker-скриптов
    │   └── docker.sh                  # Скрипт для управления Docker контейнерами
    ├── requirements.txt               # Зависимости проекта (список библиотек)
    ├── Dockerfile                     # Dockerfile для создания образа приложения
    ├── docker-compose.yml             # Конфигурация для запуска нескольких сервисов (БД, Redis, API)
    ├── .env                           # Переменные окружения (ключи, настройки БД и пр.)
    ├── .gitignore                     # Файл, исключающий ненужные файлы из git
    └── alembic.ini                    # Файл конфигурации Alembic для миграций
```

### Настройки проекта

Для настройки проекта необходимо создать файл `.env` и указать в нем следующие переменные окружения:

**Основные переменные**

- `SECRET_KEY=` — секретный ключ для приложения (используется для токенов и шифрования).
- `ALGORITHM=` — алгоритм шифрования (например, HS256).

**Настройки базы данных PostgreSQL**

- `DB_HOST=` — хост для подключения к базе данных (например, `localhost` для локальной разработки или `db` для Docker).
- `DB_PORT=` — порт для подключения к базе данных (обычно `5432`).
- `DB_NAME=` — имя базы данных.
- `DB_USER=` — пользователь базы данных.
- `DB_PASS=` — пароль пользователя базы данных.

**Настройки Redis**

- `REDIS_HOST=` — хост для подключения к Redis (например, `localhost` или `redis` для Docker).
- `REDIS_PORT=` — порт для подключения к Redis (обычно `6379`).

**Дополнительные настройки PostgreSQL для Docker**

При использовании Docker Compose:

- `POSTGRES_DB=` — имя базы данных.
- `POSTGRES_USER=` — пользователь базы данных.
- `POSTGRES_PASSWORD=` — пароль пользователя базы данных.


### Запуск проекта
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/your_username/your_repository.git
   cd your_repository
   ```
2. Настройте файл .env, как указано выше.
3. Запустите контейнеры:
   ```bash
   docker-compose up -d
   ```

### Остановка проекта
```bash
docker-compose down
```
